<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
    <title>Sınav Soruları</title>
    <style>
        body {
            background-color: #f3f4f6;
            color: #1f2937;
            font-family: 'Arial', sans-serif;
        }
        #question-container {
            display: none;
            background-color: #ffffff;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        .btn-custom {
            background-color: #4f46e5;
            color: white;
            border-radius: 25px;
        }
        .btn-custom:hover {
            background-color: #4338ca;
            color: white;
        }
        h1 {
            color: #374151;
            font-size: 2.5rem;
            margin-bottom: 30px;
        }
        h2 {
            color: #4b5563;
            font-size: 1.5rem;
        }
        .list-group-item {
            background-color: #f9fafb;
            border: none;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 8px;
        }
        .positive {
            color: #10b981; /* Yeşil */
        }
        .negative {
            color: #ef4444; /* Kırmızı */
        }
        .fade-in {
            opacity: 0;
            animation: fadeIn 0.6s forwards;
        }
        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <div class="container d-flex flex-column align-items-center mt-5">
        <h1>Sınav Soruları</h1>
        <div id="question-container" class="fade-in">
            <h2 id="soru-basligi"></h2>
            <p><strong>Puan:</strong> <span id="soru-puan"></span></p>
            <h3>Cevaplar:</h3>
            <ul class="list-group" id="cevaplar-listesi"></ul>
            <div class="text-center mt-4" id="next-button-container">
                <button class="btn btn-custom px-5" id="next-button">Sonraki Soru</button>
            </div>
        </div>
        <button class="btn btn-custom btn-lg mt-3" id="start-button">Başla</button>
    </div>

    <script>
        const veri =  {
            "ders": {
                "ad": "Tarih"
            },
            "sinav": {
                "tarih": "2023-10-26T00:00:00.000Z"
            },
            "sorular": [
                {
                    "soru": "Malazgirt savaşı hangi tarihte kimler arasında gerçekleşmiştir?",
                    "puan": 50,
                    "kisitlamalar": [],
                    "cevaplar": [
                        {
                            "cevap": "1071 yılında roma-türk orduları arasında gerçekleşmiştir.",
                            "puan": 25,
                            "ogrenciler": [
                                {
                                    "numara": null,
                                    "ad": "Berke",
                                    "soyad": null
                                }
                            ],
                            "analiz": [
                                {
                                    "pozitif": [
                                        "Savaşın yılını doğru bildiği için 25 puan verilmiştir."
                                    ],
                                    "negatif": [
                                        "Roma-Türk orduları ifadesi yanlıştır. Doğrusu Selçuklu-Bizans ordularıdır."
                                    ]
                                }
                            ]
                        },
                        {
                            "cevap": "1071 yılında selçuklu-doğu roma imparatorluğu arasında gerçekleşmiştir.",
                            "puan": 50,
                            "ogrenciler": [
                                {
                                    "numara": null,
                                    "ad": "Yağmur",
                                    "soyad": null
                                }
                            ],
                            "analiz": [
                                {
                                    "pozitif": [
                                        "Savaşı tarihi ve tarafları doğru olarak belirtildiği için 50 tam puan verilmiştir."
                                    ],
                                    "negatif": []
                                }
                            ]
                        }
                    ]
                },
                {
                    "soru": "Fatih Sultan Mehmet, İtalya seferini neden gerçekleştirememiştir? (2 madde yazın)",
                    "puan": 50,
                    "kisitlamalar": [
                        "2 madde yazın"
                    ],
                    "cevaplar": [
                        {
                            "cevap": "Fatih Sultan Mehmet'in ömrü yetmediği için sefer gerçekleştirememiştir.",
                            "puan": 25,
                            "ogrenciler": [
                                {
                                    "numara": null,
                                    "ad": "Berke",
                                    "soyad": null
                                }
                            ],
                            "analiz": [
                                {
                                    "pozitif": [
                                        "Verilen cevabın kısmen doğru olması sebebiyle 25 puan verilmiştir."
                                    ],
                                    "negatif": [
                                        "Soruda 2 madde istenmesine rağmen 1 madde yazdığı ve cevabın eksik olduğu için 25 puan kırılmıştır."
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        };


        let currentQuestionIndex = -1;

        document.getElementById('start-button').addEventListener('click', function() {
            currentQuestionIndex = 0;
            showQuestion();
        });

        document.getElementById('next-button').addEventListener('click', function() {
            currentQuestionIndex++;
            showQuestion();
        });

        function showQuestion() {
            if (currentQuestionIndex < veri.sorular.length) {
                const soru = veri.sorular[currentQuestionIndex];
                document.getElementById('soru-basligi').innerText = soru.soru;
                document.getElementById('soru-puan').innerText = soru.puan;
                const cevaplarListesi = document.getElementById('cevaplar-listesi');
                cevaplarListesi.innerHTML = '';
                soru.cevaplar.forEach(cevap => {
                    const li = document.createElement('li');
                    li.className = 'list-group-item fade-in';
                    li.innerHTML = `
                        <p><strong>Cevap:</strong> ${cevap.cevap} (${cevap.puan} puan verildi)</p>
                        <p><strong>${cevap.ogrenciler.length} öğrenci bu cevabı verdi. </strong> (${cevap.ogrenciler.map(ogrenci => `<span>${ogrenci.ad}</span>`).join(', ')})</p>
                        <p><strong>Pozitif:</strong> <span class="positive">${cevap.analiz[0].pozitif.join(', ')}</span></p>
                        <p><strong>Negatif:</strong> <span class="negative">${cevap.analiz[0].negatif.join(', ')}</span></p>
                    `;
                    cevaplarListesi.appendChild(li);
                });
                document.getElementById('question-container').style.display = 'block';
                document.getElementById('next-button-container').style.display = currentQuestionIndex < veri.sorular.length - 1 ? 'block' : 'none';
            } else {
                alert('Tüm soruları bitirdiniz!');
                resetQuiz();
            }
        }

        function resetQuiz() {
            currentQuestionIndex = -1;
            document.getElementById('question-container').style.display = 'none';
        }
    </script>
</body>
</html>
